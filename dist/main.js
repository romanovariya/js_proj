(()=>{"use strict";(e=>{const t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds"),s=()=>{const i=function(){const t=(new Date(e).getTime()-(new Date).getTime())/1e3;let n=Math.floor(t%60),o=Math.floor(t/60%60),s=Math.floor(t/60/60);const i=e=>e<10?`0${e}`:e;return n=i(n),s=i(s),o=i(o),t<=0&&(s="00",o="00",n="00"),{timeRemaining:t,hours:s,minutes:o,seconds:n}}();let r;t.textContent=i.hours,n.textContent=i.minutes,o.textContent=i.seconds,i.timeRemaining>0?r=setInterval(s,1e3):clearInterval(r)};s()})("13 january 2021"),(()=>{const e=document.querySelector("body"),t=document.querySelector("menu");e.addEventListener("click",(e=>{const n=e.target;(n.closest(".menu")||n.closest("menu")||t.classList.contains("active-menu"))&&t.classList.toggle("active-menu")}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content");n.style.position="absolute",n.style.left="-38%",n.style.transform="translateX(-50%)",t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block";const t=parseFloat(n.style.left),o=(new Date).getTime(),s=()=>{const e=(new Date).getTime(),i=t+(e-o)/1e3*100;n.style.left=i+"%",i<50&&requestAnimationFrame(s)};s()}))}));const o=()=>{n.querySelectorAll("input").forEach((e=>{e.value=""}))};e.addEventListener("click",(t=>{let s=t.target;s.classList.contains("popup-close")?(e.style.display="none",n.style.left="-38%",o()):(s=s.closest(".popup-content"),s||(e.style.display="none",n.style.left="-38%",o()))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach(((e,s)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))})(s)}))}))})(),new class{constructor({main:e,wrap:t,slides:n,next:o,prev:s,infinity:i=!1,position:r=0,slidesToShow:l=1}){e&&t||console.warn('sider-carousel: Необходимо двасвойства: "main" и "wrap"'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelectorAll(n),this.next=document.querySelector(o),this.prev=document.querySelector(s),this.slidesToShow=l,this.options={position:r,infinity:i,maxPosition:this.slides.length-this.slidesToShow,slideWidth:Math.floor(100/this.slidesToShow)}}init(){this.addGloClass(),this.addStyles(),this.prev&&this.next||this.addArrow(),this.controlSlider()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrapper");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyles(){const e=document.createElement("style");e.id="sliderCarousel-style",e.textContent=`\n           .glo-slider {\n               overflow: hidden !important;\n           }\n           .glo-slider__wrapper {\n               display: flex !important;\n               transition: transform 0.5s !important;\n               will-change: transform !important;\n           }\n           .glo-slider__item {\n               flex: 0 0 ${this.options.slideWidth}% !important;\n               margin: auto 0 !important;\n           }\n        `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",(e=>{e.preventDefault(),this.prevSlider()})),this.next.addEventListener("click",(e=>{e.preventDefault(),this.nextSlider()}))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,console.log(this.options.position),this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.slideWidth}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,console.log(this.options.position),this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.slideWidth}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next);const e=document.createElement("style");e.textContent="\n            .glo-slider__prev,\n            .glo-slider__next {\n                margin: 0;\n                border: 20px solid transparent;\n                background: transparent;\n            }\n            .glo-slider__next {\n                border-left-color: #19b5fe;\n            }\n            .glo-slider__prev {\n                border-right-color: #19b5fe;\n            }\n            .glo-slider__prev:hover,\n            .glo-slider__next:hover,\n            .glo-slider__prev:focus,\n            .glo-slider__next:focus {\n                background: transparent;\n                outline: transparent;\n            }\n        ",document.head.appendChild(e)}}({main:".portfolio-slider",wrap:".portfolio-content",slides:".portfolio-item",prev:"#arrow-left",next:"#arrow-right",infinity:!0}).init(),(()=>{const e=document.getElementById("command");let t;e.addEventListener("mouseover",(e=>{e.target.matches(".command__photo")&&(t=e.target.getAttribute("src"),e.target.src=e.target.dataset.img)})),e.addEventListener("mouseout",(e=>{e.target.matches(".command__photo")&&(e.target.src=t)}))})(),document.querySelector(".calc-block").addEventListener("input",(e=>{e.target.matches("input")&&(e.target.value=e.target.value.replace(/[\D]/,""))})),((e=100)=>{const t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),s=document.querySelector(".calc-day"),i=document.getElementById("total"),r=document.querySelector(".calc-count");t.addEventListener("input",(t=>{const l=t.target;l!==n&&l!==o&&l!==s&&l!==r||(()=>{let t=0,l=1,a=1;const c=n.options[n.selectedIndex].value,d=+o.value;clearInterval(void 0),r.value>1&&(l+=(r.value-1)/10),s.value&&s.value<5?a*=2:s.value&&s.value<10&&(a*=1.5),c&&d&&(t=e*c*d*l*a),((e,t,n,o)=>{let s=null;const i=t=>{s||(s=t);const o=Math.min((t-s)/1e3,1);e.innerHTML=Math.floor(o*(n-0)+0),o<1&&window.requestAnimationFrame(i)};window.requestAnimationFrame(i)})(i,0,t)})()}))})(100),(()=>{const e=document.getElementById("form1"),t=document.getElementById("form2"),n=document.getElementById("form3"),o=document.createElement("div");o.className="status-message",o.style.cssText="font-size: 2rem; color: #d7d7d7",e.appendChild(o),o.textContent="",document.querySelector("body").addEventListener("submit",(e=>{e.preventDefault();const t=e.target;t.appendChild(o),o.textContent="";const n=t.querySelectorAll("input"),s=document.createElement("div");s.classList.add("sk-rotating-plane"),s.style.cssText="width: 4em; height: 4em; margin: auto; background-color: #337ab7; \n\t\t-webkit-animation: sk-rotating-plane 1.2s infinite ease-in-out;\n\t\tanimation: sk-rotating-plane 1.2s infinite ease-in-out;",s.animate([{transform:"perspective(120px) rotateX(0deg) rotateY(0deg)"},{transform:"perspective(120px) rotateX(-180.1deg) rotateY(0deg)"},{transform:"perspective(120px) rotateX(-180deg) rotateY(-179.9deg)"}],{duration:2e3,iterations:1/0}),o.appendChild(s);const i=new FormData(t),r={};i.forEach(((e,t)=>{r[t]=e})),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(r).then((e=>{if(200!==e.status)throw new Error("status network not 200");o.removeChild(s),o.textContent="Спасибо! Мы скоро с вами свяжемся!",n.forEach((e=>{e.value=""})),setTimeout((()=>{t.removeChild(o)}),3e3)})).catch((e=>{o.textContent="Что-то пошло не так",console.error(e)}))}));const s=e=>{e.classList.contains("form-phone")?e.value=e.value.replace(/[^0-9+]/gi,""):e.classList.contains("top-form")||e.classList.contains("form-name")?e.value=e.value.replace(/([^А-Яа-яёЁ ])/,""):e.classList.contains("mess")&&(e.value=e.value.replace(/([^А-Яа-яёЁ ,.!?])/,""))},i=e=>{const t=e.querySelectorAll("input"),n=e.querySelector("button");let o=!1;n.disabled=!1,t.forEach((e=>{""===e.value.trim()?(n.disabled=!0,o=!0):e.classList.contains("form-phone")?e.value.length>=6&&e.value.length<=11||(n.disabled=!0,o=!0):(e.classList.contains("form-name")||e.classList.contains("top-form"))&&e.value.length<2&&(n.disabled=!0,o=!0)})),!1===o&&(n.disabled=!1)};e.addEventListener("input",(t=>{const n=t.target;s(n),i(e)})),t.addEventListener("input",(e=>{const n=e.target;s(n),i(t)})),n.addEventListener("input",(e=>{const t=e.target;s(t),i(n)}))})(),document.querySelector('a[href="#service-block"]').addEventListener("click",(e=>{e.preventDefault(),document.getElementById("service-block").scrollIntoView({behavior:"smooth",block:"start"})})),document.querySelector("menu").addEventListener("click",(e=>{e.preventDefault();const t=e.target;if(t.closest("a")&&!t.classList.contains("close-btn")){const e=t.getAttribute("href").substr(1);document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})}}))})();